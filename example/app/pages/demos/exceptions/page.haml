:ruby
  Heading = import("/app/components/Layout/Heading")
  Highlight = import("/app/components/UI/Highlight")
  Card = import("/app/components/UI/Card")
  Details = import("/app/components/UI/Details")

  def self.get_initial_state(**) = {
    count: 0
  }

  def handle_click(e) =
    case e
    in { target: { name: "increment" } }
      @count += 1
    end

%article
  %Heading(level=2) Exceptions
  %p This demo shows how exceptions are handled.
  %p
    %a(href="https://github.com/mayu-live/framework/issues/6")
      Issue for implementing error boundaries
  %p
    Count:
    %output<= @count
  %p
    %button(onclick=handle_click name="increment") Increment
    %button(onclick=handle_click name="error") Error
    %Details(summary="Show source")
      %Highlight(language="haml")
        = File.read("app/pages/demos/exceptions/page.haml")
